# leikegeek.github.io

### 体系结构和代码设计
- 单一职责原则：一个类有且只能一个职责。如果必须使用在一个方法里面完成多个事情的时候，应该是抽象层上出了问题
- 开闭原则：对于面向对象语言而言，对象对可扩展开放，对修改关闭。
- 代码复用：如果代码被复制一次，尚可接收，如果复制两次，应该提取公共部分重构
- 更优雅的代码：如果一块代码越改越混乱，应该考虑更进一步，用更优雅的代码
- 潜在的BUG：考虑下是否会有潜在的代码
- 错误处理：如何优雅地处理错误
- 效率：如果代码中包含SQL或者算法，思考是否有更高效的算法或SQL语句
#### 代码风格
- 方法名：方面命名是否统一
- 值名：值名是否易于理解
- 函数长度：Java这里一般不应超过80行
- 文件长度：Java这里不建议超过1000行
- 文档：对于复杂的函数来说，参数个数可能较多，在文档中需要指出每个参数的用处，除了那些显而易见的。
- 注释代码：移除任何注释的代码
- 可读性：

#### 测试
- 测试的范围：我喜欢测试新功能。测试是否全面？是否涵盖了故障的情况【比如：网络，信号等，译者注】？是否容易使用？是否稳定？大多的测试？性能的快慢？
- 合乎规范的测试：当复查测试时，确保我们用适当的方式。换句话说，当我们在一个较低水平测试却要求期望的功能？Gary Bernhardt建议95％的单元测试，5％的集成测试。

#### 代码审计
在提交代码之前，我经常用git添加改变的文件/文件夹,然后通过git diff 来查看做了哪些修改。通常，我会关注如下几点：

- 是否有注释？
- 变量名是否见名知意？
- 为何有这种改动，再过一遍以免有低级错误出现

#### CodeReview的提示（来自左耳朵耗子）

- **不应该承担发现代码错误的职责**，Code Review主要是审核代码的质量，如可读性，可维护性，以及程序的逻辑和对需求和设计的实现。代码中的bug和错误应该由单元测试，功能测试，性能测试，回归测试来保证的
-  **不应该成为保证代码风格和编码标准的手段**  编码风格和代码规范都属于死的东西，每个程序员在把自己的代码提交团队Review的时候，代码就应该是符合规范的。比如Java可以使用阿里的规范插件来约束
*以上两个不是不能提及，而是不是CodeReview的主要职责所在*。
- Code reviews 中，可以通过大家的建议增进代码的质量。
- Code reviews  是一个传递知识的手段，可以让其它并不熟悉代码的人知道作者的意图和想法，从而可以在以后轻松维护代码。
- Code reviews 也鼓励程序员们相互学习对方的长处和优点。
- Code reviews 也可以被用来确认自己的设计和实现是一个清楚和简单的
